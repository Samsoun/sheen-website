(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{5260:function(e,s,i){Promise.resolve().then(i.bind(i,9863))},9376:function(e,s,i){"use strict";var r=i(5475);i.o(r,"useRouter")&&i.d(s,{useRouter:function(){return r.useRouter}}),i.o(r,"useSearchParams")&&i.d(s,{useSearchParams:function(){return r.useSearchParams}})},9863:function(e,s,i){"use strict";i.d(s,{default:function(){return o}});var r=i(7437),a=i(2265),n=i(6108),t=i(9376),l=i(7648);function o(){let[e,s]=(0,a.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[i,o]=(0,a.useState)(null),[c,m]=(0,a.useState)(!1),u=(0,t.useRouter)(),d=e=>{let{name:i,value:r}=e.target;s(e=>({...e,[i]:r}))},h=()=>e.firstName.trim()?e.lastName.trim()?e.email.trim()?/\S+@\S+\.\S+/.test(e.email)?e.password?e.password.length<8?"Das Passwort muss mindestens 8 Zeichen lang sein.":e.password!==e.confirmPassword?"Die Passw\xf6rter stimmen nicht \xfcberein.":null:"Bitte geben Sie ein Passwort ein.":"Bitte geben Sie eine g\xfcltige E-Mail-Adresse ein.":"Bitte geben Sie Ihre E-Mail-Adresse ein.":"Bitte geben Sie Ihren Nachnamen ein.":"Bitte geben Sie Ihren Vornamen ein.",g=async s=>{s.preventDefault();let i=h();if(i){o(i);return}o(null),m(!0);try{let s=await (0,n.UJ)(e.email,e.password,{firstName:e.firstName,lastName:e.lastName,email:e.email,phone:"",birthdate:""});if(!s.success){var a;(null===(a=s.error)||void 0===a?void 0:a.includes("auth/email-already-in-use"))?o((0,r.jsxs)("div",{children:["Diese E-Mail-Adresse ist bereits registriert. Bitte"," ",(0,r.jsx)("button",{type:"button",onClick:()=>u.push("/login"),className:"login-link",children:"melden Sie sich an"})," ","oder"," ",(0,r.jsx)("button",{type:"button",onClick:()=>u.push("/login?reset=true"),className:"login-link",children:"setzen Sie Ihr Passwort zur\xfcck"}),"."]})):o(s.error||"Registrierung fehlgeschlagen. Bitte versuchen Sie es erneut.");return}u.push("/login?registered=true")}catch(e){(e instanceof Error?e.message:"Unbekannter Fehler").includes("auth/email-already-in-use")?o((0,r.jsxs)("div",{children:["Diese E-Mail-Adresse ist bereits registriert. Bitte"," ",(0,r.jsx)("button",{type:"button",onClick:()=>u.push("/login"),className:"login-link",children:"melden Sie sich an"})," ","oder"," ",(0,r.jsx)("button",{type:"button",onClick:()=>u.push("/login?reset=true"),className:"login-link",children:"setzen Sie Ihr Passwort zur\xfcck"}),"."]})):o("Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es sp\xe4ter erneut."),console.error("Registration error:",e)}finally{m(!1)}};return(0,r.jsxs)("div",{className:"login-body",children:[i&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-100 text-red-700 rounded-md text-lg",children:i}),(0,r.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"login-form-group",children:[(0,r.jsx)("label",{htmlFor:"firstName",className:"login-label",children:"Vorname *"}),(0,r.jsx)("input",{id:"firstName",name:"firstName",type:"text",value:e.firstName,onChange:d,required:!0,className:"login-input",placeholder:"Ihr Vorname"})]}),(0,r.jsxs)("div",{className:"login-form-group",children:[(0,r.jsx)("label",{htmlFor:"lastName",className:"login-label",children:"Nachname *"}),(0,r.jsx)("input",{id:"lastName",name:"lastName",type:"text",value:e.lastName,onChange:d,required:!0,className:"login-input",placeholder:"Ihr Nachname"})]}),(0,r.jsxs)("div",{className:"login-form-group",children:[(0,r.jsx)("label",{htmlFor:"email",className:"login-label",children:"E-Mail *"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",value:e.email,onChange:d,required:!0,className:"login-input",placeholder:"ihre@email.de"})]}),(0,r.jsxs)("div",{className:"login-form-group",children:[(0,r.jsx)("label",{htmlFor:"password",className:"login-label",children:"Passwort *"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",value:e.password,onChange:d,required:!0,minLength:8,className:"login-input",placeholder:"Mindestens 8 Zeichen"})]}),(0,r.jsxs)("div",{className:"login-form-group",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"login-label",children:"Passwort best\xe4tigen *"}),(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:d,required:!0,className:"login-input",placeholder:"Passwort wiederholen"})]}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)("button",{type:"submit",disabled:c,className:"login-button",children:c?"Wird registriert...":"Registrieren"})}),(0,r.jsx)("div",{className:"login-footer",children:(0,r.jsxs)("p",{className:"text-lg text-gray-600",children:["Bereits registriert?"," ",(0,r.jsx)(l.default,{href:"/login",className:"login-link",children:"Jetzt anmelden"})]})})]})]})}}},function(e){e.O(0,[358,657,432,648,108,971,117,744],function(){return e(e.s=5260)}),_N_E=e.O()}]);